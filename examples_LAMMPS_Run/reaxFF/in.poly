#------------------------------------------------------------------Initialization------------------------------------------------------------------#
dimension 		3
boundary		p p p
units			real	
atom_modify 	sort 100 0.0
atom_style		charge
neighbor		2.0 bin  
neigh_modify	every 20 delay 0 check no    
shell "mkdir -p dump"

#-----------------------------------------------------------------Box of simulation----------------------------------------------------------------#


read_data	/path/to/IPP20-39.lmp


#---------------------------------------------------------------Interatomic potential--------------------------------------------------------------#

#set 		type 1 charge -4
#set 		type 2 charge +1

pair_style    reaxff NULL safezone 1.2 mincap 50  minhbonds 25

pair_coeff    * *  /path/to//ffield_hybridC.reax.txt C H


fix 	      1 all acks2/reaxff 1 0.0 10.0 1.0e-6 reaxff

timestep	0.25
thermo		100                  

#-----------------------------------------------------------------Property computes---------------------------------------------------------------#

compute		energy  all pe/atom                
compute		kenergy all ke/atom                       
compute		stress  all stress/atom NULL              
compute 	2       all property/atom q
compute 	disp 	all displace/atom
#compute 	MSD all msd com yes

#--------------------------------------------------------------------Relaxation------------------------------------------------------------------#

thermo_style	custom step temp etotal pe press pxx pyy pzz vol pxy pxz pyz #c_MSD[1] c_MSD[2] c_MSD[3] c_MSD[4]

fix 			2 all box/relax aniso 0.0
min_style		cg               
minimize 		1e-25 1e-25 5000 10000
unfix			2

#---------------------------------------------------------------Output visualization-------------------------------------------------------------#


dump		1 all cfg 5000 /path/to//dump/IPP.*.cfg  mass type xs ys zs c_energy id c_disp[4] c_disp[1] c_disp[2] c_disp[3] q
dump_modify	1 element C H

#----------------------------------------------------------------Additional Fixes----------------------------------------------------------------#

# Apply harmonic spring forces to avoid agglomeration
#fix spr all spring/self 10.0

# Restrain bond length to prevent chain folding Id of two atoms should be given
#fix rest all restrain bond 45 48 2000.0 2000.0 1.5

# Prevent polymer chain breakage by controlling bond creation/breaking
#fix bnd all bond/create 1 1 1 2.0 0.5 iparam 1 1 jparam 1 1

# Prevent polymer chains from collapsing by maintaining radius of gyration
#fix rg all spring/rg 100.0 NULL  # Maintain Rg around 20 Ã… with spring constant 10.0

# Handling rotational degree of freedom
#fix rot all langevin 300.0 300.0 1.0 69948 gjf vfull zero yes 

#--------------------------------------------------------------Thermal equilibration-------------------------------------------------------------#

fix 		18 all momentum 1 linear 1 1 1 
fix 		5 all nve
fix         3 all temp/berendsen 100.0 100.0 1.0

run 10000

#-----------------------------------------------------------------traj for VDOS-----------------------------------------------------------------#
dump        	2 all xyz 1 /path/to//dump/traj.xyz	
dump_modify 	2 element C H

run 20000
#---------------------------------------------------------------------------------------------------------------------------------------------------------------------------


#write_restart 	/path/to//dump/IPP_1_100K.restart
